1. （外围设备）和处理器打交道的硬件很多，不单单是硬盘，还有显示器、网络设备、扬声器（喇叭）和话筒（麦克风)、键盘、鼠标等。有时候，根据应用的场合，还会接一些你不认识和没见过的东西。所有这些和计算机主机连接的设备，都围绕在主机周围，争着跟计算机说话，叫做外围设备（Peripheral Equipment）。
2. （输入输出设备）一般来说，我们把这些设备分成两种，一种是输入设备，比如键盘、鼠标、麦克风、摄像头等：另一种是输出设备，比如显示器、打印机、扬声器等。输入设备和输出设备统称输入输出（Input/Output，I/O）设备。
3. （I/O 接口）每一种设备都有自己的怪脾气，都有和别的设备不一样的工作方式。比如，扬声器需要的是模拟信号，每个扬声器需要两根线，用的插头也是无线电行业里的标准，话筒也是如此；老式键盘只用一根线向主机传送按键的 ASCIT 码，而且一直采用 PS/2 标准：新式的 USB 键盘尽管也使用串行方式工作，但信号却和老式键盘完全不同。至于网络设施，现在流行的是里面有 8 根线芯的五类双绞线，里面的信号也有专门的标准。一句话，不同的设备，有不同的连线数量，线里面传送的信号也不一样，而且各自的插头和插孔也千差万别，这该如何让处理器跟它打交道？话虽这么说，但这些东西不让处理器访问和控制却不行。很明显，这里需要一些信号转换器和变速齿轮，这就是 I/O 接口。举几个例子，麦克风和扬声器需要一个 I/O 接口，即声卡，才能与处理器沟通；显示器也需要一个 I/O 接口，即显卡，才能与处理器沟通；USB 键盘同样需要一个 I/O 接口，即 USB 接口，才能与处理器沟通。很显然，不同的外围设备，都有各自不同的 I/O 接口。I/O 接口可以是一个电路板，也可能是一块小芯片，这取决于它有多复杂。无论如何，它是一个典型的变换器，或者说是一个翻译器，在一边，它按处理器的信号规程工作，负责把处理器的信号转换成外围设备能接受的另一种信号；在另一边，它也做同样的工作，把外围设备的信号变换成处理器可以接受的形式。
4. （总线）不可能将所有的 I/O 接口直接和处理器相连，设备那么多，还有些设备现在没有发明出来，将来一定会有。你怎么办？对这个问题的解答是采用总线技术。总线可以认为是一排电线，所有的外围设备，包括处理器，都连接到这排电线上。但是，每个连接到这排电线上的器件都必须有拥有电子开关，以使它们随时能够同这排电线连接，或者从这排电线上断开（脱离)。这就好比是公共车道，当路面上有车时，你就必须退避一下，不能硬冲上去。因此，这排公共电线就称为总线（Bus）。
5. （输入输出控制设备集中器，ICH）每个设备的 I/O 接口都抢着和处理器说话，不发生冲突都难。你怎么办？对第这个问题的解答是使用输入输出控制设备集中器（IO Controller Hub，ICH）芯片，该芯片的作用是连接不同的总线，并协调各个 IO 接口对处理器的访问。在个人计算机上，这块芯片就是所谓的南桥。如下图（计算机内部总线系统示意图）所示，处理器通过局部总线连接到 ICH 内部的处理接口电路。然后，在 ICH 内部，又通过总线与各个 I/O 接口相连。在ICH 內部，集成了一些常规的外围设备接口，如 USB、PATA (IDE)、SATA、老式总线接口(LPC)、时钟等，这些东西对计算机来说必不可少，故直接集成在 ICH 内。除了这些常用的、必不可少的设备之外，有些设备你可能暂时用不上，也有些设备还没有发明出来，但迟早有可能连在计算机上。不管是什么设备，都必须通过它自己的 I/O 接口电路同 ICH 相连。为了方便，最好是在主板上做一些插槽，同时，每个设备的 I/O 接口电路都设计成插卡。这样，想接上该设备时，就把它的 I/O 接口卡插上，不需要时，随时拔下。为了实现这个目的，或者说为了支持更多的设备，ICH 还提供了对 PCI 或者 PCI Express 总线的支持，该总线向外延伸，连接着主板上的若干个扩展槽，就是刚才说的插槽。举个实例，如果你想连接显示器，那么就要先插入显卡，然后再把显示器接到显卡上。除了局部总线和 PCI Express 总线，每个 I/O 接口卡可能连接不止一个设备。比如 USB 接口，就有可能连接一大堆东西：键盘、鼠标、U 盘等。因为同类型的设备较多，也涉及线路复用和仲裁的问题，故它们也有自己的总线体系，称为通信总线或者设备总线。比如下图所示的 USB 总线和SATA 总线。当处理器想同某个设备说话时，ICH 会接到通知。然后，它负责提供相应的传输通道和其他辅助支持，并命令所有其他无关设备闭嘴。同样，当某个设备要跟处理器说话，情况也是一样。
![image](https://user-images.githubusercontent.com/32811372/205421424-0bd03b7e-e8f4-4d89-b68b-05a09c805648.png)
6. （端口）外国设备和处理器之间的通信是通过相应的 1O 接口进行的。当然，这么说太过于笼统，所以必须具体到细节上来讲这件事。具体地说，处理器是通过端口（Port）来和外围设备打交道的。本质上，端口就是一些寄存器；类似于处理器内部的寄存器。不同之处仅仅在于，这些叫做端口的寄存器位于 I/O 接口电路中。端口是处理器和外围设备通过 I/O 接口交流的窗口，每一个 I/O 接口都可能拥有好几个端口，分别用于不同的目的。比如，连接硬盘的 PATA/SATA 接口就有几个端口，分别是：
    - 命令端口：当向端口写入 0x20 时，表明是从硬盘读数据：写入 0x30 时，表明是向硬盘写数据
    - 状态端口：处理器根据这个端口的数据来判断硬盘工作是否正常，操作是否成功，发生了哪种错误
    - 参数端口：处理器通过这些端口告诉硬盘读写的扇区数量，以及起始的逻辑扇区号
    - 数据端口：通过这个端口连续地取得要读出的数据，或者通过这个端口连续地发送要写入硬盘的数据
7. （端口位数）端口只不过是位于 I/O 接口上的寄存器，所以，每个端口有自己的数据宽度。在早期的系统中，端口可以是 8 位的，也可以是 16 位的，现在有些端口会是 32 位的。到底是 8 位还是 16位，这是设备和 I/O 接口制造者的自由。比如，PATA/STAT 接口中的数据端口就是 16 位的，这有助于加快数据传输速率，提高传输效率。
8. （端口内存映射）端口在不同的计算机系统中有着不同的实现方式。在一些计算机系统中，端口号是映射到内存地址空间的。比如，0x00000～0xE0000 是真实的物理内存地址，而 0xE0001～0xFFFFF 是从很多 IO 接口那里映射过来的，当访问这部分地址时，实际上是在访问 I/O 接口。
9. （端口独立编址）而在另一些计算机系统中，端口是独立编址的，不和内存发生关系。如下图所示，在这种计算机中，处理器的地址线既连接内存，也连接每一个 IO 接口。但是，处理器还有一个特殊的引脚 M/IO#，在这里，“#”表示低电平有效。也就是说，当处理器访问内存时，它会让 M/IO# 引脚星高电平，这里，和内存相关的电路就会打开；相反，如果处理器访问 I/O 端口，那么 M/IO# 引脚呈低平，内存电路被禁止。与此同时，处理器发出的地址和 M/IO# 信号一起用于打个某个 I/O 接口，如果该 I/O 接口分配的端口号与处理器地址相吻合的话。
10. (端口独立编址 & 内存映射）Intel 处理器，早期是独立编址的，现在既有内存映射的，也有独立编址的。
![image](https://user-images.githubusercontent.com/32811372/205427383-d0228259-5eb8-40ef-8d38-d0470e6cdd92.png)
11. （端口独立编址）所有端口都是统一编号的，比如 0x0001、0x0002、0x0003、…。每个 IO 接口电路都分配了若干个端口，比如，I/O 接口 A 有 3 个端口，端口号分别是 0x0021～0x0023；I/O 接口B需要 5 个端口，端口号分别是 0x0303～0x0307。一个现实的例子是个人计算机中的 PATA/SATA 接口，每个 PATA 和 SATA 接口分配了 8 个端口。但是，ICH 芯片内部通常集成了两个 PATA/SATA 接口，分别是主硬盘接口和副硬盘接口。这样一来，主硬盘接口分配的端口号是 0x1f0～0x1f7，副硬盘接口分配的端口号是 0x170～0x177。
12. （端口访问指令）格式如下：
``` asm
in al,dx
```
要求如下：
    - in 
